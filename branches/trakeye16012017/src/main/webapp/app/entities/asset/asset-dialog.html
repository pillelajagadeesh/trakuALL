<div class="content">
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			
		    <div class="box box-info">
			    <div class="box-header">
			    	<h3 class="box-title" id="myTrCaseLabel">
			    	<span ng-if="!vm.asset.id" translate="trakeyeApp.asset.home.create">Create</span>
			    	<span ng-if="vm.asset.id" translate="trakeyeApp.asset.home.update">Edit</span>
			    	</h3>
			    </div>
				<form name="editForm" class="form-horizontal" role="form" novalidate ng-submit="vm.save()" show-validation>
				<div class="box-body">
						<jhi-alert-error></jhi-alert-error>
						
						<!-- 	<div class="form-group" ng-show="vm.asset.id">
					            <label for="id" class="col-md-3 control-label" translate="global.field.id">ID</label>
					            <div class="col-md-7">
					            	<input type="text" class="form-control" id="id" name="id"
					                    ng-model="vm.asset.id" readonly />
					            </div>
					            	
					        </div> -->
						
						<div class="form-group">
							<label class="col-md-3 control-label">
								<span translate="trakeyeApp.asset.name" for="field_name">Name</span> 
								<sup><span class="required-icon"><i class="fa fa-asterisk text-danger"></i></span> </sup>
							</label>
							<div class="col-md-7">
								<input type="text" class="form-control" name="name" id="field_name" ng-model="vm.asset.name" required ng-minlength="3" ng-maxlength="50" />
					            <div ng-show="editForm.name.$invalid">
					                <p class="help-block"
					                    ng-show="editForm.name.$error.minlength" translate="entity.validation.minlength" translate-value-min="3">
					                    This field is required to be at least 3 characters.
					                </p>
					                <p class="help-block"
					                    ng-show="editForm.name.$error.maxlength" translate="entity.validation.maxlength" translate-value-max="50">
					                    This field cannot be longer than 50 characters.
					                </p>
					            </div>		
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-3 control-label" translate="trakeyeApp.asset.description" for="field_description">Description</label>
						   <div class="col-md-7">
								<textarea rows="2" class="form-control" name="description" id="field_description" ng-model="vm.asset.description"></textarea>
							</div>
						</div>
						 <div class="form-group">
					            <label class="col-md-3 control-label"><span translate="trakeyeApp.asset.assetType" for="field_assetType">Asset Type</span>
					            <sup><span class="required-icon"><i class="fa fa-asterisk text-danger"></i></span> </sup>
					            </label>
					            <div class="col-md-7">
					            	<!-- <select class="form-control" id="field_assetType" name="assetType" ng-model="vm.asset.assetTypeId" ng-options="assetType.id as assetType.name for assetType in vm.assettypes"            >
					                <option value=""></option>
					            </select> -->
					         <select class="form-control select2" name="assetType" ng-model="vm.assetType" ng-change="vm.selectattributes()"  
		                        ng-options="item as item.name for item in vm.assettypes track by item.id" required ng-disabled="vm.assetType != null">
					 	        <option value="" >--- Select AssetType ---</option>
					 	        </select>
					            </div>
					            
					        </div>
					        <div class="form-group" ng-repeat="attribute in vm.asset.assetTypeAttributeValues track by $index">
		                
		            <label class="col-md-3 control-label">
		          		<span>{{attribute.assetTypeAttribute.name}}</span> 
		          		
		          	</label>
			            <div class="col-md-7">
			            	<input type="text" class="form-control added-service" name="value" 
			                   ng-model="vm.asset.assetTypeAttributeValues[$index].attributeValue">
			            </div>
		        </div> 
						<div class="form-group">
							<label class="col-md-3 control-label">
								<span translate="trakeyeApp.asset.coordinates">Coordinates</span> 
								<sup><span class="required-icon"><i class="fa fa-asterisk text-danger"></i></span> </sup>
							</label>
						   <div class="col-md-9">
								<div class="input-group">
								  <input type="text" class="form-control hide" name="coordinates" id="field_coordinates" disabled 
								   ng-model="vm.asset.assetCoordinates"
								   required />
								   <span class="input-group-btn" ng-if="vm.asset.id==null">
									   <button type="button" ng-click="vm.createfence()" class="btn btn-primary btn-sm" >Create</button>
								   </span>
									<span class="input-group-btn" ng-if="vm.asset.id!=null">
									   <button type="button" ng-click="vm.createfence()" class="btn btn-primary btn-sm" >View or Edit</button>
								   </span>
									<!-- <span class="input-group-btn" ng-if="vm.asset.id!=null">
									   <button type="button" ng-click="vm.createNewFence()" class="btn btn-danger btn-sm" >Destroy and Create</button>
								   </span> -->
							   </div> 
							   <br/>
								<div id="map_canvas" style="height:300px;"></div>
						   </div>
					   </div>
					</div>
					<div class="box-footer">
						<div class="col-md-4 col-md-offset-3 save-buttons">
						<button type="button" class="btn btn-default btn-sm"  ui-sref="asset">
				            <span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span translate="entity.action.cancel">Cancel</span>
				        </button>
				        <!-- ng-disabled="editForm.$invalid || vm.isSaving" -->
				        <button type="submit"  class="btn btn-primary btn-sm">
				            <span class="glyphicon glyphicon-save"></span>&nbsp;<span translate="entity.action.save">Save</span>
				        </button>
							
						</div>
					</div>					
				</form>
			</div>
		</div>
	</div>
</div>
			

